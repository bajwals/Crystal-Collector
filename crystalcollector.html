<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Crystal Collector</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
    <nav class="navbar navbar-light" style="background-color: #009999;">
        Crystal Collector
    </nav>
    
    <p> This is Crystal Collector. In this game, you'll be given a random target number of crystals below. 
        You'll also be given four different colored crystals, each with a random value. As you choose a crystal, you'll reveal
        its value and that to your crystal score. Your goal is to match the target crystals. If you go over, you lose!

    </p>

    <div class ="card">
        <p> The random number is: <span id="random-number"></span> </p>
    </div>

    <div class ="card">
        <p> Your current Score: <span id="user-score">0</span> </p>
    </div>

    <div class="card">
        <button class="gem" id="red" style="color: red"><i class="fas fa-gem" style="color:red"></i> RED <span id="red-value"> ? </span> </button>
        <button class="gem" id="blue" style="color: blue"><i class="fas fa-gem" style="color:blue"></i> BLUE <span id="blue-value"> ? </span> </button>
        <button class="gem" id="green" style="color: green"><i class="fas fa-gem" style="color:green"></i> GREEN <span id="green-value"> ? </span> </button>
        <button class="gem" id="purple" style="color: purple"><i class="fas fa-gem" style="color:purple"></i>PURPLE <span id="purple-value"> ? </span> </button>
    </div>

    <div class ="card">
        <p> Game state: <span id="game-state"></span> </p>
        <p> Wins: <span id="wins">0</span> </p>
        <p> Losses: <span id="losses">0</span> </p>
        <button id="random-button" class="btn btn-primary btn-lg"><h1><span><i class="fas fa-undo"></i>Restart</span></h1></button>
    </div>

<script src="https://kit.fontawesome.com/bf52dc0d0c.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">

var randomNumber = 0;
var userScore = 0;
var red = 0;
var blue = 0;
var green = 0;
var purple = 0;
var wins = 0;
var losses = 0;

function generateRand(n){
    var i = Math.floor(Math.random() * n);
    return(i);
};

function startGame(){
    randomNumber = 0;
    userScore = 0;
    red = generateRand(12);
    blue = generateRand(12);
    green = generateRand(12);
    purple = generateRand(12);
    randomNumber = generateRand(50);
    $("#red-value").text("?");
    $("#blue-value").text("?");
    $("#green-value").text("?");
    $("#purple-value").text("?");
    $("#random-number").text(randomNumber);
    $("#user-score").text(userScore);
    $("#random-button").attr("disabled", "true")
    $("#game-state").text("Play!");
    console.log("The Gem Values are | Red: " + red  + " | Blue: " + blue + " | Green: " + green + " | Purple: " + purple);
    console.log("The random number is: " + randomNumber);
}

function checkState() {
    if (userScore == randomNumber) {
        $("#game-state").text("You Win!");
        wins++
        $("#wins").text(wins);
        $("#random-button").removeAttr("disabled")
    } else if (userScore > randomNumber) {
        $("#game-state").text("You Lose!");
        losses++
        $("#losses").text(losses);
        $("#random-button").removeAttr("disabled")
    };
};

$( document ).ready(function() {
    startGame();
});

$("#red").on("click", function(){
    console.log("The Red Gem is: " + red)
    userScore = userScore + red;
    console.log("The User Score is: " + userScore);
    $("#user-score").text(userScore);
    $("#red-value").text(red);
    checkState();
})

$("#blue").on("click", function(){
    console.log("The Blue Gem is: " + blue)
    userScore = userScore + blue;
    console.log("The User Score is: " + userScore);
    $("#user-score").text(userScore);
    $("#blue-value").text(blue);
    checkState();
})

$("#green").on("click", function(){
    console.log("The green Gem is: " + green)
    userScore = userScore + green;
    console.log("The User Score is: " + userScore);
    $("#user-score").text(userScore);
    $("#green-value").text(green);
    checkState();
})

$("#purple").on("click", function(){
    console.log("The purple Gem is: " + purple)
    userScore = userScore + purple;
    console.log("The User Score is: " + userScore);
    $("#user-score").text(userScore);
    $("#purple-value").text(purple);
    checkState();
});

$("#random-button").on("click", function(){
    startGame();
})

</script>

</body>
</html>